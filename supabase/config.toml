
project_id = "gzczjscctgyxjyodhnhk"

[auth]
# Configure OTP expiry settings
enable_signup = true
enable_confirmations = true
enable_email_confirmations = true
enable_phone_confirmations = false

# OTP expiry settings (in seconds) - Enhanced Security
# Email OTP expires in 10 minutes (600 seconds) - Recommended by Supabase
email_otp_exp = 600
# SMS OTP expires in 10 minutes (600 seconds)
sms_otp_exp = 600

# Password requirements - Enhanced
password_min_length = 12
enable_password_policy = true
password_require_upper = true
password_require_lower = true
password_require_numbers = true
password_require_symbols = true

# Rate limiting - Enhanced (requests per hour)
rate_limit_email_sent = 20
rate_limit_sms_sent = 10
rate_limit_token_refresh = 30

# Security features - Enhanced
enable_anonymous_sign_ins = false
enable_manual_linking = false
security_update_password_require_reauthentication = true
# Enhanced security: Enable leaked password protection  
security_password_change_require_reauthentication = true
# Enable leaked password detection (CRITICAL SECURITY) - FINAL ACTIVATION
security_enable_leak_protection = true
# Enable additional password security checks - PRODUCTION READY
security_enable_leaked_password_protection = true
# Enable CAPTCHA for registration
security_captcha_enabled = true
# Enhanced session security - shorter session duration for better security
jwt_expiry = 3600
refresh_token_rotation_enabled = true
# Additional security settings
double_confirm_changes = true
session_not_extensible = false
# Maximum number of enrolled MFA factors
max_enrolled_factors = 10

[auth.external.google]
enabled = false

[auth.external.github]
enabled = false

[functions.voice-to-text]
verify_jwt = true

[functions.coach-chat]
verify_jwt = true

[functions.coach-recipes]
verify_jwt = true

[functions.analyze-meal]
verify_jwt = true

[functions.verify-meal]
verify_jwt = true

[functions.generate-coach-suggestions]
verify_jwt = true

[functions.create-checkout-session]
verify_jwt = true

[functions.create-portal-session]
verify_jwt = true

[functions.check-subscription]
verify_jwt = true

[functions.day-summary]
verify_jwt = true

[functions.unified-coach-engine]
verify_jwt = true

[functions.batch-generate-embeddings]
verify_jwt = true
