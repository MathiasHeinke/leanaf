

import { createContext, useContext, useState, useEffect } from 'react';

interface TranslationContextType {
  language: string;
  setLanguage: (lang: string) => void;
  t: (key: string, params?: Record<string, string | number>) => string;
}

const TranslationContext = createContext<TranslationContextType | undefined>(undefined);

export const useTranslation = () => {
  const context = useContext(TranslationContext);
  if (context === undefined) {
    throw new Error('useTranslation must be used within a TranslationProvider');
  }
  return context;
};

const translations = {
  de: {
    // Navigation
    'nav.home': 'Startseite',
    'nav.history': 'Verlauf',
    'nav.settings': 'Einstellungen',
    'nav.profile': 'Profil',
    'nav.subscription': 'Abonnement',
    'nav.logout': 'Abmelden',
    
    // Main App
    'app.title': 'kaloAI',
    'app.welcome': 'Willkommen bei kaloAI',
    'app.dailyProgress': 'TÃ¤glicher Fortschritt',
    'app.calories': 'Kalorien',
    'app.protein': 'Protein',
    'app.carbs': 'Kohlenhydrate',
    'app.fats': 'Fette',
    'app.todaysMeals': 'Heutige Mahlzeiten',
    'app.noMeals': 'Noch keine Mahlzeiten heute hinzugefÃ¼gt',
    'app.addMeal': 'Mahlzeit hinzufÃ¼gen',
    'app.analyzing': 'Analysiere...',
    'app.mealAdded': 'Mahlzeit erfolgreich hinzugefÃ¼gt!',
    'app.error': 'Fehler beim HinzufÃ¼gen der Mahlzeit',
    'app.refresh': 'Aktualisieren',
    'app.letsGetLean': 'let\'s get lean',
    'app.menu': 'MenÃ¼',
    
    // Input modes
    'input.photo': 'Foto',
    'input.voice': 'Sprache',
    'input.text': 'Text',
    'input.placeholder': 'Mahlzeit eingeben',
    'input.record': 'Aufnahme',
    'input.recording': 'Aufnahme lÃ¤uft...',
    'input.photoUpload': 'Foto hochladen',
    'input.processing': 'Verarbeitung...',
    
    // Weight Input
    'weightInput.title': 'Gewicht eintragen',
    'weightInput.current': 'Aktuell: {weight} kg',
    'weightInput.placeholder': 'kg',
    'weightInput.success': 'Gewicht erfolgreich gespeichert!',
    'weightInput.error': 'Fehler beim Speichern des Gewichts',
    
    // Daily Progress
    'progress.caloriesConsumed': 'kcal heute verbraucht',
    'progress.remaining': 'verbleibend',
    'progress.overGoal': 'Ã¼ber Ziel',
    'progress.stillNeed': 'fehlen noch',
    'progress.goalReached': 'Ziel erreicht!',
    'progress.exceeded': 'Ã¼berschritten',
    'progress.over': 'Ã¼ber',
    
    // Time
    'time.today': 'Heute',
    'time.morning': 'Guten Morgen',
    'time.afternoon': 'Guten Tag',
    'time.evening': 'Guten Abend',
    
    // Macros
    'macros.protein': 'Protein',
    'macros.carbs': 'Kohlenhydrate',
    'macros.fats': 'Fette',
    'macros.calories': 'Kalorien',
    
    // Meal Types
    'mealTypes.breakfast': 'FrÃ¼hstÃ¼ck',
    'mealTypes.lunch': 'Mittagessen',
    'mealTypes.dinner': 'Abendessen',
    'mealTypes.snack': 'Snack',
    'mealTypes.other': 'Sonstiges',
    
    // Date Navigation
    'date.today': 'Heute',
    'date.previousDay': 'Vorheriger Tag',
    'date.nextDay': 'NÃ¤chster Tag',
    
    // Settings (additional)
    'settings.close': 'SchlieÃŸen',
    'settings.dailyCalorieGoal': 'TÃ¤gliches Kalorienziel',
    'settings.recommended': 'Empfohlen: 1200-2500 kcal je nach Geschlecht und AktivitÃ¤t',
    'settings.goalSaved': 'Ziel gespeichert! ðŸŽ¯',
    'settings.newDailyGoal': 'Neues Tagesziel: {calories} kcal',
    'settings.invalidGoal': 'UngÃ¼ltiges Ziel',
    'settings.goalRange': 'Das Kalorienziel sollte zwischen 800 und 5000 kcal liegen.',
    'settings.saveGoal': 'Ziel speichern',
    'settings.darkMode': 'Dark Mode',
    'settings.darkModeAuto': 'Automatisch (19:00-7:00)',
    'settings.darkModeLight': 'Hell',
    'settings.darkModeDark': 'Dunkel',
    'settings.darkModeDesc': 'Dark Mode wird automatisch zwischen 19:00 und 7:00 Uhr aktiviert',
    'settings.appearance': 'Erscheinungsbild',
    'settings.theme': 'Design',
    'settings.activeTime': 'Aktive Zeit',
    'settings.toggleTheme': 'Theme umschalten',
    'settings.autoActive': 'Auto aktiv',
    'settings.saveError': 'Fehler beim Speichern der Einstellungen',
    
    // Authentication
    'auth.signIn': 'Anmelden',
    'auth.signUp': 'Registrieren',
    'auth.email': 'E-Mail',
    'auth.password': 'Passwort',
    'auth.confirmPassword': 'Passwort bestÃ¤tigen',
    'auth.forgotPassword': 'Passwort vergessen?',
    'auth.noAccount': 'Noch kein Konto?',
    'auth.haveAccount': 'Bereits ein Konto?',
    'auth.signInHere': 'Hier anmelden',
    'auth.signUpHere': 'Hier registrieren',
    'auth.loading': 'LÃ¤dt...',
    'auth.error': 'Fehler bei der Anmeldung',
    'auth.passwordsNoMatch': 'PasswÃ¶rter stimmen nicht Ã¼berein',
    'auth.emailInvalid': 'UngÃ¼ltige E-Mail-Adresse',
    'auth.passwordTooShort': 'Passwort muss mindestens 6 Zeichen lang sein',
    'auth.emailAlreadyRegistered': 'Diese E-Mail ist bereits registriert. Versuchen Sie sich anzumelden.',
    'auth.invalidCredentials': 'UngÃ¼ltige Anmeldedaten. Bitte Ã¼berprÃ¼fen Sie E-Mail und Passwort.',
    'auth.networkError': 'Netzwerkfehler. Bitte Ã¼berprÃ¼fen Sie Ihre Internetverbindung und versuchen Sie es erneut.',
    'auth.genericError': 'Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut.',
    'auth.accountCreated': 'Konto erfolgreich erstellt! Bitte Ã¼berprÃ¼fen Sie Ihre E-Mail zur BestÃ¤tigung.',
    'auth.signInSuccess': 'Erfolgreich angemeldet!',
    'auth.passwordResetSent': 'Passwort-Reset-E-Mail wurde gesendet. Bitte Ã¼berprÃ¼fen Sie Ihr Postfach.',
    'auth.passwordResetError': 'Fehler beim Senden der Reset-E-Mail. Bitte versuchen Sie es erneut.',
    'auth.passwordResetTitle': 'Passwort zurÃ¼cksetzen',
    'auth.passwordResetEmail': 'Reset-E-Mail senden',
    'auth.backToSignIn': 'ZurÃ¼ck zur Anmeldung',
    'auth.enterEmail': 'Bitte geben Sie Ihre E-Mail-Adresse ein',
    'auth.googleSignIn': 'Mit Google fortfahren',
    'auth.appleSignIn': 'Mit Apple fortfahren',
    'auth.orContinueWith': 'Oder fortfahren mit',
    'auth.googleError': 'Fehler bei der Google-Anmeldung. Bitte versuchen Sie es erneut.',
    'auth.appleError': 'Fehler bei der Apple-Anmeldung. Bitte versuchen Sie es erneut.',
    
    // Account Management
    'account.title': 'Konto',
    'account.personalData': 'PersÃ¶nliche Daten',
    'account.personalDataDesc': 'Verwalten Sie Ihre grundlegenden Informationen',
    'account.security': 'Sicherheit',
    'account.securityDesc': 'Passwort und Sicherheitseinstellungen',
    'account.name': 'Name',
    'account.namePlaceholder': 'Ihr vollstÃ¤ndiger Name',
    'account.emailPlaceholder': 'ihre.email@beispiel.de',
    'account.saving': 'Wird gespeichert...',
    'account.saved': 'Gespeichert {time}',
    'account.save': 'Speichern',
    'account.profileSaved': 'Profil erfolgreich gespeichert',
    'account.profileError': 'Fehler beim Speichern des Profils',
    'account.changePassword': 'Passwort Ã¤ndern',
    'account.newPassword': 'Neues Passwort',
    'account.newPasswordPlaceholder': 'Mindestens 6 Zeichen',
    'account.confirmPasswordPlaceholder': 'Passwort wiederholen',
    'account.changePasswordButton': 'Passwort Ã¤ndern',
    'account.passwordChanging': 'Wird geÃ¤ndert...',
    'account.passwordChanged': 'Passwort erfolgreich geÃ¤ndert',
    'account.passwordChangeError': 'Fehler beim Ã„ndern des Passworts',
    'account.passwordReset': 'Passwort zurÃ¼cksetzen',
    'account.passwordResetDesc': 'Eine E-Mail mit Anweisungen zum ZurÃ¼cksetzen wird an Ihre E-Mail-Adresse gesendet.',
    'account.sendResetEmail': 'Reset-E-Mail senden',
    'account.resetEmailSending': 'Wird gesendet...',
    'account.resetEmailSent': 'Passwort-Reset-E-Mail wurde gesendet',
    'account.signOut': 'Abmelden',
    'account.signOutSuccess': 'Erfolgreich abgemeldet',
    'account.signOutError': 'Fehler beim Abmelden',
    'account.fillAllFields': 'Bitte fÃ¼llen Sie alle Passwort-Felder aus',
    'account.passwordsDontMatch': 'Die PasswÃ¶rter stimmen nicht Ã¼berein',
    'account.passwordTooShort': 'Das Passwort muss mindestens 6 Zeichen lang sein',
    'account.loading': 'LÃ¤dt...',
    
    // Navigation & Header
    'header.account': 'Konto',
    'header.subscription': 'Abonnement',
    'header.logout': 'Abmelden',
    'header.main': 'Basis',
    'header.coach': 'Coach',
    'header.history': 'Verlauf',
    'header.profile': 'Profil',
    
    // Coach & Chat
    'coach.askCoach': 'Frag deinen Coach...',
    'coach.chatHistory': 'Chat-Verlauf',
    'coach.hideHistory': 'Verlauf ausblenden',
    'coach.showHistory': 'Chat-Verlauf anzeigen',
    'coach.clearChat': 'Chat lÃ¶schen',
    'coach.close': 'SchlieÃŸen',
    'coach.recording': 'Aufnahme lÃ¤uft...',
    'coach.processing': 'Verarbeitung...',
    'coach.kaloaiCoach': 'kaloAI Coach',
    
    // Profile
    'profile.title': 'Profil',
    'profile.displayName': 'Anzeigename',
    'profile.email': 'E-Mail',
    'profile.language': 'Sprache',
    'profile.personalInfo': 'PersÃ¶nliche Informationen',
    'profile.weight': 'Gewicht (kg)',
    'profile.height': 'GrÃ¶ÃŸe (cm)',
    'profile.age': 'Alter',
    'profile.gender': 'Geschlecht',
    'profile.gender.male': 'MÃ¤nnlich',
    'profile.gender.female': 'Weiblich',
    'profile.gender.other': 'Divers',
    'profile.activityLevel': 'AktivitÃ¤tslevel',
    'profile.activity.sedentary': 'Sitzend',
    'profile.activity.light': 'Leicht aktiv',
    'profile.activity.moderate': 'Moderat aktiv',
    'profile.activity.active': 'Aktiv',
    'profile.activity.very_active': 'Sehr aktiv',
    'profile.goal': 'Ziel',
    'profile.goal.lose': 'Abnehmen',
    'profile.goal.maintain': 'Halten',
    'profile.goal.gain': 'Zunehmen',
    'profile.weightHistory': 'Gewichtsverlauf',
    'profile.addWeight': 'Gewicht hinzufÃ¼gen',
    'profile.currentWeight': 'Aktuelles Gewicht',
    'profile.save': 'Speichern',
    'profile.saved': 'Profil gespeichert!',
    'profile.error': 'Fehler beim Speichern des Profils',
    'profile.bodyMetrics': 'KÃ¶rperdaten',
    'profile.startWeight': 'Startgewicht (kg)',
    'profile.coachSettings': 'Coach-Einstellungen',
    'profile.coachPersonality': 'Coach-PersÃ¶nlichkeit',
    'profile.macroStrategies': 'Makro-Strategien',
    'profile.activityGoals': 'AktivitÃ¤t & Ziele',
    'profile.calorieCalculation': 'Kalorienberechnung',
    'profile.bmr': 'Grundumsatz',
    'profile.tdee': 'Gesamtumsatz',
    'profile.targetCalories': 'Zielkalorien',
    'profile.calorieDeficit': 'Kaloriendefizit',
    'profile.calorieOverage': 'KalorienÃ¼berschuss',
    'profile.calorieAdjustment': 'Kalorienanpassung',
    'profile.macroDistribution': 'MakronÃ¤hrstoff-Verteilung (%)',
    'profile.targetWeight': 'Zielgewicht (kg)',
    'profile.targetDate': 'Zieldatum',
    'profile.weightGoalAnalysis': 'Gewichtsziel-Analyse',
    'profile.muscleMaintenancePriority': 'Muskelerhalt priorisieren',
    'profile.autoSaving': 'Speichere...',
    'profile.lastSaved': 'Zuletzt gespeichert',
    'profile.autoSaveNote': 'Ã„nderungen werden automatisch gespeichert',
    'profile.manualSave': 'Manuell speichern',
    'profile.personalData': 'PersÃ¶nliche Daten',
    'profile.defineGoals': 'Ziele definieren',
    'profile.preferences': 'PrÃ¤ferenzen',
    'profile.yourMacros': 'Deine Makros',
    'profile.weightGoalAnalysisTitle': 'Gewichtsziel-Analyse',
    'profile.currentWeightLabel': 'Aktuelles Gewicht',
    'profile.loading': 'Lade Profil...',
    'profile.activityLevels.sedentary': 'Wenig aktiv (BÃ¼rojob)',
    'profile.activityLevels.light': 'Leicht aktiv (1-3x Sport/Woche)',
    'profile.activityLevels.moderate': 'MÃ¤ÃŸig aktiv (3-5x Sport/Woche)',
    'profile.activityLevels.active': 'Sehr aktiv (6-7x Sport/Woche)',
    'profile.activityLevels.very_active': 'Extrem aktiv (2x tÃ¤glich)',
    'profile.goals.lose': 'Gewicht verlieren',
    'profile.goals.maintain': 'Gewicht halten',
    'profile.goals.gain': 'Gewicht zunehmen',
    'profile.coachPersonalities.hart': 'Hart & Direkt',
    'profile.coachPersonalities.soft': 'Sanft & VerstÃ¤ndnisvoll',
    'profile.coachPersonalities.motivierend': 'Motivierend & Positiv',
    'profile.macroStrategy.standard': 'Standard',
    'profile.macroStrategy.high_protein': 'High Protein',
    'profile.macroStrategy.balanced': 'Balanced',
    'profile.macroStrategy.low_carb': 'Low Carb',
    'profile.macroStrategy.athletic': 'Athletic',
    'profile.macroStrategyDesc.standard': 'Ausgewogene Verteilung',
    'profile.macroStrategyDesc.high_protein': 'Mehr Protein fÃ¼r Muskelaufbau',
    'profile.macroStrategyDesc.balanced': 'Moderate Protein-Verteilung',
    'profile.macroStrategyDesc.low_carb': 'Weniger Kohlenhydrate',
    'profile.macroStrategyDesc.athletic': 'FÃ¼r aktive Sportler',
    'profile.weightDifference': 'Gewichtsdifferenz:',
    'profile.timeToGoal': 'Zeit bis zum Ziel:',
    'profile.weeks': 'Wochen',
    'profile.requiredProgress': 'BenÃ¶tigter Fortschritt:',
    'profile.kgPerWeek': 'kg/Woche',
    'profile.requiredCalorieDeficit': 'BenÃ¶tigtes Kaloriendefizit:',
    'profile.daily': 'TÃ¤glich:',
    'profile.weekly': 'WÃ¶chentlich:',
    'profile.ambitiousGoalWarning': 'Sehr ambitioniertes Ziel - empfohlen: max. 1kg/Woche',
    'profile.calculationNote': 'Die Werte wurden automatisch basierend auf deinem Ziel berechnet',
    'profile.totalPercentage': 'Gesamt: {total}%',
    'profile.notSaved': 'Nicht gespeichert',
    'profile.saveStatus': 'Gespeichert {time}',
    
    // History
    'history.title': 'Verlauf',
    'history.noHistory': 'Kein Verlauf vorhanden',
    'history.date': 'Datum',
    'history.meals': 'Mahlzeiten',
    'history.total': 'Gesamt',
    'history.tabs.history': 'Verlauf',
    'history.tabs.chart': 'Grafik',
    'history.tabs.weight': 'Gewicht',
    'history.timeframes.7days': '7 Tage',
    'history.timeframes.30days': '30 Tage',
    'history.timeframes.365days': '365 Tage',
    'history.avgCaloriesPerDay': 'Ã˜ Kalorien/Tag',
    'history.goalsReached': 'Ziele erreicht',
    'history.status.goalReached': 'Ziel erreicht',
    'history.status.nearGoal': 'Nahe Ziel',
    'history.status.overGoal': 'Ãœber Ziel',
    'history.status.tooLittle': 'Zu wenig',
    'history.status.deviation': 'Abweichung',
    'history.mealTypes.breakfast': 'ðŸŒ… FrÃ¼hstÃ¼ck',
    'history.mealTypes.lunch': 'ðŸŒž Mittagessen',
    'history.mealTypes.dinner': 'ðŸŒ† Abendessen',
    'history.mealTypes.snack': 'ðŸŽ Snack',
    'history.mealTypes.other': 'ðŸ½ï¸ Sonstiges',
    'history.loading.data': 'Lade Daten...',
    'history.loading.profile': 'Lade Profil...',
    'history.editMeal': 'Mahlzeit bearbeiten',
    'history.manual': 'Manuell',
    'history.portions': 'Portionen',
    'history.nutritionPer100g': 'NÃ¤hrwerte pro 100g',
    'history.weeklyAverage': 'Wochendurchschnitt',
    'history.meal': 'Mahlzeit',
    'history.mealPlural': 'Mahlzeiten',
    'history.noDataAvailable': 'Keine Daten verfÃ¼gbar',
    
    // Meal List
    'meal.noMealsToday': 'Noch keine Mahlzeiten heute',
    'meal.addFirstMeal': 'FÃ¼ge deine erste Mahlzeit hinzu',
    'meal.todaysMeals': 'Heutige Mahlzeiten',
    
    // Toast Messages
    'toast.success.tipSaved': 'Tipp gespeichert',
    'toast.success.mealDeleted': 'Mahlzeit gelÃ¶scht',
    'toast.success.mealUpdated': 'Mahlzeit aktualisiert',
    'toast.success.weightSaved': 'Gewicht gespeichert',
    'toast.success.profileSaved': 'Profil gespeichert',
    'toast.success.goalsSaved': 'Ziele gespeichert',
    'toast.success.settingsSaved': 'Einstellungen gespeichert',
    'toast.success.chatCleared': 'Chat geleert',
    'toast.success.audioTranscribed': 'Audio transkribiert',
    'toast.success.passwordResetSent': 'Passwort-Reset-E-Mail gesendet',
    'toast.error.loadingData': 'Fehler beim Laden der Daten',
    'toast.error.savingData': 'Fehler beim Speichern',
    'toast.error.deletingMeal': 'Fehler beim LÃ¶schen der Mahlzeit',
    'toast.error.updatingMeal': 'Fehler beim Aktualisieren der Mahlzeit',
    'toast.error.loadingProfile': 'Fehler beim Laden des Profils',
    'toast.error.savingProfile': 'Fehler beim Speichern des Profils',
    'toast.error.loadingHistory': 'Fehler beim Laden des Verlaufs',
    'toast.error.analyzingMeal': 'Fehler bei der Mahlzeit-Analyse',
    'toast.error.uploadingImage': 'Fehler beim Hochladen des Bildes',
    'toast.error.recordingAudio': 'Fehler bei der Audioaufnahme',
    'toast.error.transcribingAudio': 'Fehler bei der Audio-Transkription',
    'toast.error.maxImagesReached': 'Maximal 5 Bilder erlaubt',
    'toast.error.invalidGoal': 'UngÃ¼ltiges Ziel eingegeben',
    'toast.error.networkError': 'Netzwerkfehler - Bitte versuchen Sie es erneut',
    'toast.error.authenticationError': 'Authentifizierungsfehler',
    'toast.error.permissionDenied': 'Berechtigung verweigert',
    'toast.info.analyzingMeal': 'Analysiere Mahlzeit...',
    'toast.info.uploadingImage': 'Lade Bild hoch...',
    'toast.info.processing': 'Verarbeite...',
    'toast.info.saving': 'Speichere...',
    'toast.info.loading': 'Lade...',
    
    // Status Labels
    'status.goalReached': 'Ziel erreicht',
    'status.nearGoal': 'Nahe am Ziel',
    'status.overGoal': 'Ãœber dem Ziel',
    'status.underGoal': 'Unter dem Ziel',
    'status.onTrack': 'Auf Kurs',
    'status.needsAttention': 'Braucht Aufmerksamkeit',
    'status.excellent': 'Ausgezeichnet',
    'status.good': 'Gut',
    'status.average': 'Durchschnitt',
    'status.needsImprovement': 'Verbesserung nÃ¶tig',
    
    // Subscription
    'subscription.title': 'Abonnement',
    'subscription.currentPlan': 'Aktueller Plan',
    'subscription.free': 'Kostenlos',
    'subscription.premium': 'Premium',
    'subscription.upgrade': 'Upgrade auf Premium',
    'subscription.manage': 'Abonnement verwalten',
    'subscription.features': 'Premium-Funktionen',
    'subscription.feature1': 'Unbegrenzte Mahlzeiten-Analysen',
    'subscription.feature2': 'Erweiterte Coaching-Tipps',
    'subscription.feature3': 'Detaillierte NÃ¤hrwert-Berichte',
    'subscription.feature4': 'PrioritÃ¤ts-Support',
    'subscription.monthlyPrice': 'â‚¬9,99/Monat',
    'subscription.processing': 'Verarbeite...',
    
    // Coach
    'coach.title': 'Dein ErnÃ¤hrungs-Coach',
    'coach.analysisTitle': 'TÃ¤gliche Analyse',
    'coach.updateAnalysis': 'Analyse aktualisieren',
    'coach.loading': 'Analysiere deine ErnÃ¤hrung...',
    'coach.score': 'Tagesbewertung',
    'coach.summary': 'Zusammenfassung',
    'coach.tips': 'Tipps',
    'coach.motivation': 'Motivation',
    'coach.warning': 'Warnung',
    
    // Settings
    'settings.title': 'Einstellungen',
    'settings.dailyGoals': 'TÃ¤gliche Ziele',
    'settings.language': 'Sprache',
    'settings.german': 'Deutsch',
    'settings.english': 'Englisch',
    'settings.save': 'Speichern',
    'settings.saved': 'Einstellungen gespeichert!',
    
    // Common
    'common.back': 'ZurÃ¼ck',
    'common.close': 'SchlieÃŸen',
    'common.save': 'Speichern',
    'common.cancel': 'Abbrechen',
    'common.delete': 'LÃ¶schen',
    'common.edit': 'Bearbeiten',
    'common.loading': 'LÃ¤dt...',
    'common.error': 'Fehler',
    'common.success': 'Erfolgreich',
    'common.yes': 'Ja',
    'common.no': 'Nein',
    'common.dataUpdated': 'Daten aktualisiert',
    'common.stop': 'Stop',
    
    // Loading messages
    'loading.userData': 'Lade Benutzerdaten...',
    
    // Specific UI elements
    'ui.remaining': 'verbleibend',
    'ui.overGoal': 'Ã¼ber dem Ziel',
    'ui.bmr': 'Grundumsatz',
    'ui.tdee': 'Gesamtumsatz',
    'ui.ketoCoach': 'Keto Coach',
    'ui.kcal': 'kcal',
    'ui.gram': 'g',
    'ui.overBy': 'Ã¼ber',
    'ui.goal': 'Ziel',
    'ui.until': 'bis',
    'ui.over': 'Ã¼ber',
    
    // Motivational messages
    'motivation.start': 'Perfekter Start! ðŸŒŸ Du bist auf dem richtigen Weg!',
    'motivation.half': 'GroÃŸartig! ðŸ’ª Die HÃ¤lfte ist geschafft!',
    'motivation.progress': 'Super Disziplin! ðŸŽ¯ Bleib dran, du schaffst das!',
    'motivation.almost': 'Fast geschafft! ðŸ† Nur noch ein kleiner Schritt!',
    'motivation.perfect': 'Perfekt! ðŸŽ‰ Ziel erreicht - du bist fantastisch!',
    'motivation.over': 'Nicht schlimm! ðŸ˜Š Morgen ist ein neuer Tag!',
    'motivation.discipline': 'Super Disziplin! ðŸŽ¯ Bleib dran, du schaffst das!',
    'motivation.fallback': 'Bleib motiviert! ðŸ’ª',
    
    // 404 Page
    'notFound.title': '404',
    'notFound.subtitle': 'Oops! Seite nicht gefunden',
    'notFound.returnHome': 'ZurÃ¼ck zur Startseite',
  },
  en: {
    // Navigation
    'nav.home': 'Home',
    'nav.history': 'History',
    'nav.settings': 'Settings',
    'nav.profile': 'Profile',
    'nav.subscription': 'Subscription',
    'nav.logout': 'Logout',
    
    // Main App
    'app.title': 'kaloAI',
    'app.welcome': 'Welcome to kaloAI',
    'app.dailyProgress': 'Daily Progress',
    'app.calories': 'Calories',
    'app.protein': 'Protein',
    'app.carbs': 'Carbs',
    'app.fats': 'Fats',
    'app.todaysMeals': 'Today\'s Meals',
    'app.noMeals': 'No meals added today',
    'app.addMeal': 'Add Meal',
    'app.analyzing': 'Analyzing...',
    'app.mealAdded': 'Meal added successfully!',
    'app.error': 'Error adding meal',
    'app.refresh': 'Refresh',
    'app.letsGetLean': 'let\'s get lean',
    'app.menu': 'Menu',
    
    // Input modes
    'input.photo': 'Photo',
    'input.voice': 'Voice',
    'input.text': 'Text',
    'input.placeholder': 'Enter meal',
    'input.record': 'Record',
    'input.recording': 'Recording...',
    'input.photoUpload': 'Upload Photo',
    'input.processing': 'Processing...',
    
    // Weight Input
    'weightInput.title': 'Log Weight',
    'weightInput.current': 'Current: {weight} kg',
    'weightInput.placeholder': 'kg',
    'weightInput.success': 'Weight saved successfully!',
    'weightInput.error': 'Error saving weight',
    
    // Daily Progress
    'progress.caloriesConsumed': 'kcal consumed today',
    'progress.remaining': 'remaining',
    'progress.overGoal': 'over goal',
    'progress.stillNeed': 'still needed',
    'progress.goalReached': 'Goal reached!',
    'progress.exceeded': 'exceeded',
    'progress.over': 'over',
    
    // Time
    'time.today': 'Today',
    'time.morning': 'Good Morning',
    'time.afternoon': 'Good Afternoon',
    'time.evening': 'Good Evening',
    
    // Macros
    'macros.protein': 'Protein',
    'macros.carbs': 'Carbs',
    'macros.fats': 'Fats',
    'macros.calories': 'Calories',
    
    // Meal Types
    'mealTypes.breakfast': 'Breakfast',
    'mealTypes.lunch': 'Lunch',
    'mealTypes.dinner': 'Dinner',
    'mealTypes.snack': 'Snack',
    'mealTypes.other': 'Other',
    
    // Date Navigation
    'date.today': 'Today',
    'date.previousDay': 'Previous Day',
    'date.nextDay': 'Next Day',
    
    // Settings (additional)
    'settings.close': 'Close',
    'settings.dailyCalorieGoal': 'Daily Calorie Goal',
    'settings.recommended': 'Recommended: 1200-2500 kcal depending on gender and activity',
    'settings.goalSaved': 'Goal saved! ðŸŽ¯',
    'settings.newDailyGoal': 'New daily goal: {calories} kcal',
    'settings.invalidGoal': 'Invalid Goal',
    'settings.goalRange': 'The calorie goal should be between 800 and 5000 kcal.',
    'settings.saveGoal': 'Save Goal',
    'settings.darkMode': 'Dark Mode',
    'settings.darkModeAuto': 'Auto (7 PM-7 AM)',
    'settings.darkModeLight': 'Light',
    'settings.darkModeDark': 'Dark',
    'settings.darkModeDesc': 'Dark mode is automatically enabled between 7 PM and 7 AM',
    'settings.appearance': 'Appearance',
    'settings.theme': 'Theme',
    'settings.activeTime': 'Active time',
    'settings.toggleTheme': 'Toggle theme',
    'settings.autoActive': 'Auto active',
    'settings.saveError': 'Error saving settings',
    
    // Authentication
    'auth.signIn': 'Sign In',
    'auth.signUp': 'Sign Up',
    'auth.email': 'Email',
    'auth.password': 'Password',
    'auth.confirmPassword': 'Confirm Password',
    'auth.forgotPassword': 'Forgot Password?',
    'auth.noAccount': 'Don\'t have an account?',
    'auth.haveAccount': 'Already have an account?',
    'auth.signInHere': 'Sign in here',
    'auth.signUpHere': 'Sign up here',
    'auth.loading': 'Loading...',
    'auth.error': 'Authentication error',
    'auth.passwordsNoMatch': 'Passwords do not match',
    'auth.emailInvalid': 'Invalid email address',
    'auth.passwordTooShort': 'Password must be at least 6 characters',
    'auth.emailAlreadyRegistered': 'This email is already registered. Try signing in.',
    'auth.invalidCredentials': 'Invalid login credentials. Please check your email and password.',
    'auth.networkError': 'Network error. Please check your internet connection and try again.',
    'auth.genericError': 'An error occurred. Please try again.',
    'auth.accountCreated': 'Account created successfully! Please check your email for confirmation.',
    'auth.signInSuccess': 'Successfully signed in!',
    'auth.passwordResetSent': 'Password reset email sent. Please check your inbox.',
    'auth.passwordResetError': 'Error sending reset email. Please try again.',
    'auth.passwordResetTitle': 'Reset Password',
    'auth.passwordResetEmail': 'Send Reset Email',
    'auth.backToSignIn': 'Back to Sign In',
    'auth.enterEmail': 'Please enter your email address',
    'auth.googleSignIn': 'Continue with Google',
    'auth.appleSignIn': 'Continue with Apple',
    'auth.orContinueWith': 'Or continue with',
    'auth.googleError': 'Error with Google sign-in. Please try again.',
    'auth.appleError': 'Error with Apple sign-in. Please try again.',
    
    // Account Management
    'account.title': 'Account',
    'account.personalData': 'Personal Data',
    'account.personalDataDesc': 'Manage your basic information',
    'account.security': 'Security',
    'account.securityDesc': 'Password and security settings',
    'account.name': 'Name',
    'account.namePlaceholder': 'Your full name',
    'account.emailPlaceholder': 'your.email@example.com',
    'account.saving': 'Saving...',
    'account.saved': 'Saved {time}',
    'account.save': 'Save',
    'account.profileSaved': 'Profile saved successfully',
    'account.profileError': 'Error saving profile',
    'account.changePassword': 'Change Password',
    'account.newPassword': 'New Password',
    'account.newPasswordPlaceholder': 'At least 6 characters',
    'account.confirmPasswordPlaceholder': 'Repeat password',
    'account.changePasswordButton': 'Change Password',
    'account.passwordChanging': 'Changing...',
    'account.passwordChanged': 'Password changed successfully',
    'account.passwordChangeError': 'Error changing password',
    'account.passwordReset': 'Reset Password',
    'account.passwordResetDesc': 'An email with reset instructions will be sent to your email address.',
    'account.sendResetEmail': 'Send Reset Email',
    'account.resetEmailSending': 'Sending...',
    'account.resetEmailSent': 'Password reset email sent',
    'account.signOut': 'Sign Out',
    'account.signOutSuccess': 'Successfully signed out',
    'account.signOutError': 'Error signing out',
    'account.fillAllFields': 'Please fill in all password fields',
    'account.passwordsDontMatch': 'Passwords do not match',
    'account.passwordTooShort': 'Password must be at least 6 characters',
    'account.loading': 'Loading...',
    
    // Navigation & Header
    'header.account': 'Account',
    'header.subscription': 'Subscription',
    'header.logout': 'Logout',
    'header.main': 'Main',
    'header.coach': 'Coach',
    'header.history': 'History',
    'header.profile': 'Profile',
    
    // Coach & Chat
    'coach.askCoach': 'Ask your coach...',
    'coach.chatHistory': 'Chat History',
    'coach.hideHistory': 'Hide History',
    'coach.showHistory': 'Show Chat History',
    'coach.clearChat': 'Clear Chat',
    'coach.close': 'Close',
    'coach.recording': 'Recording...',
    'coach.processing': 'Processing...',
    'coach.kaloaiCoach': 'kaloAI Coach',
    
    // Profile
    'profile.title': 'Profile',
    'profile.displayName': 'Display Name',
    'profile.email': 'Email',
    'profile.language': 'Language',
    'profile.personalInfo': 'Personal Information',
    'profile.weight': 'Weight (kg)',
    'profile.height': 'Height (cm)',
    'profile.age': 'Age',
    'profile.gender': 'Gender',
    'profile.gender.male': 'Male',
    'profile.gender.female': 'Female',
    'profile.gender.other': 'Other',
    'profile.activityLevel': 'Activity Level',
    'profile.activity.sedentary': 'Sedentary',
    'profile.activity.light': 'Lightly Active',
    'profile.activity.moderate': 'Moderately Active',
    'profile.activity.active': 'Active',
    'profile.activity.very_active': 'Very Active',
    'profile.goal': 'Goal',
    'profile.goal.lose': 'Lose Weight',
    'profile.goal.maintain': 'Maintain Weight',
    'profile.goal.gain': 'Gain Weight',
    'profile.weightHistory': 'Weight History',
    'profile.addWeight': 'Add Weight',
    'profile.currentWeight': 'Current Weight',
    'profile.save': 'Save',
    'profile.saved': 'Profile saved!',
    'profile.error': 'Error saving profile',
    'profile.bodyMetrics': 'Body Metrics',
    'profile.startWeight': 'Start Weight (kg)',
    'profile.coachSettings': 'Coach Settings',
    'profile.coachPersonality': 'Coach Personality',
    'profile.macroStrategies': 'Macro Strategies',
    'profile.activityGoals': 'Activity & Goals',
    'profile.calorieCalculation': 'Calorie Calculation',
    'profile.bmr': 'BMR',
    'profile.tdee': 'TDEE',
    'profile.targetCalories': 'Target Calories',
    'profile.calorieDeficit': 'Calorie Deficit',
    'profile.calorieOverage': 'Calorie Surplus',
    'profile.calorieAdjustment': 'Calorie Adjustment',
    'profile.macroDistribution': 'Macronutrient Distribution (%)',
    'profile.targetWeight': 'Target Weight (kg)',
    'profile.targetDate': 'Target Date',
    'profile.weightGoalAnalysis': 'Weight Goal Analysis',
    'profile.muscleMaintenancePriority': 'Prioritize Muscle Maintenance',
    'profile.autoSaving': 'Saving...',
    'profile.lastSaved': 'Last saved',
    'profile.autoSaveNote': 'Changes are automatically saved',
    'profile.manualSave': 'Manual save',
    'profile.personalData': 'Personal Data',
    'profile.defineGoals': 'Define Goals',
    'profile.preferences': 'Preferences',
    'profile.yourMacros': 'Your Macros',
    'profile.weightGoalAnalysisTitle': 'Weight Goal Analysis',
    'profile.currentWeightLabel': 'Current Weight',
    'profile.loading': 'Loading profile...',
    'profile.activityLevels.sedentary': 'Sedentary (Desk job)',
    'profile.activityLevels.light': 'Lightly active (1-3x exercise/week)',
    'profile.activityLevels.moderate': 'Moderately active (3-5x exercise/week)',
    'profile.activityLevels.active': 'Very active (6-7x exercise/week)',
    'profile.activityLevels.very_active': 'Extremely active (2x daily)',
    'profile.goals.lose': 'Lose weight',
    'profile.goals.maintain': 'Maintain weight',
    'profile.goals.gain': 'Gain weight',
    'profile.coachPersonalities.hart': 'Tough & Direct',
    'profile.coachPersonalities.soft': 'Gentle & Understanding',
    'profile.coachPersonalities.motivierend': 'Motivating & Positive',
    'profile.macroStrategy.standard': 'Standard',
    'profile.macroStrategy.high_protein': 'High Protein',
    'profile.macroStrategy.balanced': 'Balanced',
    'profile.macroStrategy.low_carb': 'Low Carb',
    'profile.macroStrategy.athletic': 'Athletic',
    'profile.macroStrategyDesc.standard': 'Balanced distribution',
    'profile.macroStrategyDesc.high_protein': 'More protein for muscle building',
    'profile.macroStrategyDesc.balanced': 'Moderate protein distribution',
    'profile.macroStrategyDesc.low_carb': 'Lower carbohydrates',
    'profile.macroStrategyDesc.athletic': 'For active athletes',
    'profile.weightDifference': 'Weight difference:',
    'profile.timeToGoal': 'Time to goal:',
    'profile.weeks': 'weeks',
    'profile.requiredProgress': 'Required progress:',
    'profile.kgPerWeek': 'kg/week',
    'profile.requiredCalorieDeficit': 'Required calorie deficit:',
    'profile.daily': 'Daily:',
    'profile.weekly': 'Weekly:',
    'profile.ambitiousGoalWarning': 'Very ambitious goal - recommended: max. 1kg/week',
    'profile.calculationNote': 'Values were automatically calculated based on your goal',
    'profile.totalPercentage': 'Total: {total}%',
    'profile.notSaved': 'Not saved',
    'profile.saveStatus': 'Saved {time}',
    
    // History
    'history.title': 'History',
    'history.noHistory': 'No history available',
    'history.date': 'Date',
    'history.meals': 'Meals',
    'history.total': 'Total',
    'history.tabs.history': 'History',
    'history.tabs.chart': 'Chart',
    'history.tabs.weight': 'Weight',
    'history.timeframes.7days': '7 Days',
    'history.timeframes.30days': '30 Days',
    'history.timeframes.365days': '365 Days',
    'history.avgCaloriesPerDay': 'Avg Calories/Day',
    'history.goalsReached': 'Goals Reached',
    'history.status.goalReached': 'Goal Reached',
    'history.status.nearGoal': 'Near Goal',
    'history.status.overGoal': 'Over Goal',
    'history.status.tooLittle': 'Too Little',
    'history.status.deviation': 'Deviation',
    'history.mealTypes.breakfast': 'ðŸŒ… Breakfast',
    'history.mealTypes.lunch': 'ðŸŒž Lunch',
    'history.mealTypes.dinner': 'ðŸŒ† Dinner',
    'history.mealTypes.snack': 'ðŸŽ Snack',
    'history.mealTypes.other': 'ðŸ½ï¸ Other',
    'history.loading.data': 'Loading data...',
    'history.loading.profile': 'Loading profile...',
    'history.editMeal': 'Edit Meal',
    'history.manual': 'Manual',
    'history.portions': 'Portions',
    'history.nutritionPer100g': 'Nutrition per 100g',
    'history.weeklyAverage': 'Weekly Average',
    'history.meal': 'Meal',
    'history.mealPlural': 'Meals',
    'history.noDataAvailable': 'No data available',
    
    // Meal List
    'meal.noMealsToday': 'No meals added today',
    'meal.addFirstMeal': 'Add your first meal',
    'meal.todaysMeals': 'Today\'s Meals',
    
    // Toast Messages
    'toast.success.tipSaved': 'Tip saved',
    'toast.success.mealDeleted': 'Meal deleted',
    'toast.success.mealUpdated': 'Meal updated',
    'toast.success.weightSaved': 'Weight saved',
    'toast.success.profileSaved': 'Profile saved',
    'toast.success.goalsSaved': 'Goals saved',
    'toast.success.settingsSaved': 'Settings saved',
    'toast.success.chatCleared': 'Chat cleared',
    'toast.success.audioTranscribed': 'Audio transcribed',
    'toast.success.passwordResetSent': 'Password reset email sent',
    'toast.error.loadingData': 'Error loading data',
    'toast.error.savingData': 'Error saving data',
    'toast.error.deletingMeal': 'Error deleting meal',
    'toast.error.updatingMeal': 'Error updating meal',
    'toast.error.loadingProfile': 'Error loading profile',
    'toast.error.savingProfile': 'Error saving profile',
    'toast.error.loadingHistory': 'Error loading history',
    'toast.error.analyzingMeal': 'Error analyzing meal',
    'toast.error.uploadingImage': 'Error uploading image',
    'toast.error.recordingAudio': 'Error recording audio',
    'toast.error.transcribingAudio': 'Error transcribing audio',
    'toast.error.maxImagesReached': 'Maximum 5 images allowed',
    'toast.error.invalidGoal': 'Invalid goal entered',
    'toast.error.networkError': 'Network error - Please try again',
    'toast.error.authenticationError': 'Authentication error',
    'toast.error.permissionDenied': 'Permission denied',
    'toast.info.analyzingMeal': 'Analyzing meal...',
    'toast.info.uploadingImage': 'Uploading image...',
    'toast.info.processing': 'Processing...',
    'toast.info.saving': 'Saving...',
    'toast.info.loading': 'Loading...',
    
    // Status Labels
    'status.goalReached': 'Goal Reached',
    'status.nearGoal': 'Near Goal',
    'status.overGoal': 'Over Goal',
    'status.underGoal': 'Under Goal',
    'status.onTrack': 'On Track',
    'status.needsAttention': 'Needs Attention',
    'status.excellent': 'Excellent',
    'status.good': 'Good',
    'status.average': 'Average',
    'status.needsImprovement': 'Needs Improvement',
    
    // Subscription
    'subscription.title': 'Subscription',
    'subscription.currentPlan': 'Current Plan',
    'subscription.free': 'Free',
    'subscription.premium': 'Premium',
    'subscription.upgrade': 'Upgrade to Premium',
    'subscription.manage': 'Manage Subscription',
    'subscription.features': 'Premium Features',
    'subscription.feature1': 'Unlimited meal analysis',
    'subscription.feature2': 'Advanced coaching tips',
    'subscription.feature3': 'Detailed nutrition reports',
    'subscription.feature4': 'Priority support',
    'subscription.monthlyPrice': '$9.99/month',
    'subscription.processing': 'Processing...',
    
    // Coach
    'coach.title': 'Your Nutrition Coach',
    'coach.analysisTitle': 'Daily Analysis',
    'coach.updateAnalysis': 'Update Analysis',
    'coach.loading': 'Analyzing your nutrition...',
    'coach.score': 'Daily Score',
    'coach.summary': 'Summary',
    'coach.tips': 'Tips',
    'coach.motivation': 'Motivation',
    'coach.warning': 'Warning',
    
    // Settings
    'settings.title': 'Settings',
    'settings.dailyGoals': 'Daily Goals',
    'settings.language': 'Language',
    'settings.german': 'German',
    'settings.english': 'English',
    'settings.save': 'Save',
    'settings.saved': 'Settings saved!',
    
    // Common
    'common.back': 'Back',
    'common.close': 'Close',
    'common.save': 'Save',
    'common.cancel': 'Cancel',
    'common.delete': 'Delete',
    'common.edit': 'Edit',
    'common.loading': 'Loading...',
    'common.error': 'Error',
    'common.success': 'Success',
    'common.yes': 'Yes',
    'common.no': 'No',
    'common.dataUpdated': 'Data updated',
    'common.stop': 'Stop',
    
    // Loading messages
    'loading.userData': 'Loading user data...',
    
    // Specific UI elements
    'ui.remaining': 'remaining',
    'ui.overGoal': 'over goal',
    'ui.bmr': 'BMR',
    'ui.tdee': 'TDEE',
    'ui.ketoCoach': 'Keto Coach',
    'ui.kcal': 'kcal',
    'ui.gram': 'g',
    'ui.overBy': 'over',
    'ui.goal': 'Goal',
    'ui.until': 'until',
    'ui.over': 'over',
    
    // Motivational messages
    'motivation.start': 'Perfect start! ðŸŒŸ You\'re on the right track!',
    'motivation.half': 'Great! ðŸ’ª Halfway there!',
    'motivation.progress': 'Super discipline! ðŸŽ¯ Keep it up, you got this!',
    'motivation.almost': 'Almost there! ðŸ† Just one more step!',
    'motivation.perfect': 'Perfect! ðŸŽ‰ Goal achieved - you\'re fantastic!',
    'motivation.over': 'No worries! ðŸ˜Š Tomorrow is a new day!',
    'motivation.discipline': 'Super discipline! ðŸŽ¯ Stay strong, you can do it!',
    'motivation.fallback': 'Stay motivated! ðŸ’ª',
    
    // 404 Page
    'notFound.title': '404',
    'notFound.subtitle': 'Oops! Page not found',
    'notFound.returnHome': 'Return to Home',
  },
};

export const TranslationProvider = ({ children }: { children: React.ReactNode }) => {
  const [language, setLanguage] = useState('de');

  useEffect(() => {
    const savedLanguage = localStorage.getItem('language');
    if (savedLanguage && (savedLanguage === 'de' || savedLanguage === 'en')) {
      setLanguage(savedLanguage);
    }
  }, []);

  const handleSetLanguage = (lang: string) => {
    setLanguage(lang);
    localStorage.setItem('language', lang);
  };

  const t = (key: string, params?: Record<string, string | number>): string => {
    let translation = translations[language as keyof typeof translations]?.[key as keyof typeof translations.de] || key;
    
    if (params) {
      Object.entries(params).forEach(([param, value]) => {
        translation = translation.replace(`{${param}}`, String(value));
      });
    }
    
    return translation;
  };

  return (
    <TranslationContext.Provider value={{ language, setLanguage: handleSetLanguage, t }}>
      {children}
    </TranslationContext.Provider>
  );
};

